## 셀레니움 기초 사용법 정리

- github 소스 코드 주소 : https://github.com/yw824/Web_Crawling_Py

#### Requests의 한계
1. 로그인이 필요한 경우 크롤링이 힘들다.
2. 동적으로 HTML을 만드는 경우
    - 스크롤하거나 클릭하면 데이터가 생성됨 
    - URL 주소가 변경되지 않았는데 데이터가 변함
    - 표, 데이터 형태의 데이터


#### 셀레니움( Selenium )
    - 본래 웹 어플리케이션 테스트를 위한 도구였으나
    - 브라우저를 실제로 띄워서 사람처럼 동작하도록 만들 수 있다.

    - 크롬 드라이버 다운로드 필요
    - pip install selenium

    - 실제 코드 : 09_셀레니움_기초사용법.py

    - Selenium 업데이트로 인해 
        - find_element_by_css_selector 함수가 없어졌다.
        - 이제는 find_element 코드만 사용해야 한다.
        - 2022년 6월 이후로 나온 Selenium 코드만 찾아 보자.
    
    - 아이폰13 검색창까지 도달하였다면 , 
        - 각 상품 태그를 담고 있는 태그는 ? 
        - 상품들 전체를 담고 있는 태그는 ? 
    
    1. 각 상품 태그를 담고 있는 태그 
        - 각 상품의 제목 태그가 바로 a 태그(하이퍼링크 태그 )에 해당
        - href : 이동하는 주소 , 체크해야 함
        - text : 태그의 텍스트
        <br>
        - 해당 태그를 감싸고 있는 블럭 태그 : .basicList_info_area 태그
            - 그 내에 가격 , 제목 , 썸네일, 판매 매장 목록 등 
            > 하위 태그 가지고 있음

    2. 상품 전체를 감싸고 있는 태그
        - ul.list_basis 태그가 바로 상품 전체를 감싸고 있는 태그에 해당
        - 그 안에 전체 상품을 한 분류로 모으기 위한 div 큰 태그 있고
        - 그 안에 각각 상품의 정보를 담는 div 태그가 있다.
        - 맨 위에서는 5개의 세부 상품을 위한 div 태그가 있지만 , 
            > 웹페이지를 내리면 , 아래의 상품을 보여주기 위한 div 태그가 <br> 추가로 생성된다. ( 동적 사이트의 예시 )
        - 따라서 페이지를 끝까지 내린 다음에 selector를 통해 크롤링 해야 한다.

        - 무한 스크롤 처리 방법 : 현재 스크롤된 높이를 알 수 있는 <br> 자바스크립트 명령어 이용
        - window.scrollY

        1. F5 눌러 맨 위로 다시 이동한 다음에 , 개발자 도구 창에서 Console 창으로 들어간다.
        2. 명령 프롬프트가 나오는데 , window.scrollY 라는 코드를 입력 
        > 맨 위에 있으므로 0이 출력됨
        > 윈도우 창 스크롤을 조금 아래로 내리면 내려간 만큼의 값이 나온다.
    
    3. 크롤링한 내용을 csv 파일에 저장하기
        - 소스 코드 : 10_csv파일로저장하기.py

        - csv 파일을 생성한 후( f 라는 객체로 생성 ) , 쓰기 모드 / CP949 인코딩 , 줄바꿈 해제
        - csv 편집할 csvWriter 객체 생성( f 파라미터로 제공 )
        - name , price , link 부분만 저장하도록 다음 줄에 추가
        - 반복문이 모두 끝났으면 csvWriter close